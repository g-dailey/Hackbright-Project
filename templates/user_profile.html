{% extends 'base.html' %}

{% block content %}
</div>
<div class="row">
  <div class="col">
    <div class ="user-profile">
      <h3>Welcome to the Coder Lounge, {{ logged_in_user.first_name }}!</h3>
    <div class ="content-section">
      <div id="profile-image">
      <div class="media">
        <img class="rounded-circle account-img" src="static/default-image.jpeg" width="200" height="200">
      </div>
    </div>
    </div>
  </div>
  <div class="col">

    <div class="media-body">
      <h3 class="account-heading">{{ logged_in_user.first_name }} {{ logged_in_user.last_name }}</h3>
      <h5 class="text-secondary">{{ logged_in_user.email }}</h5>
      {% for lang in logged_in_user.programming_languages %}
      <h5 class ="text-secondary">{{ lang.programming_language_name }} </h5>
      {% endfor %}
      <h3 class="text-secondary">{{logged_in_user.primary_language_name}}</h3>
    </div>
  </div>

  <div class="col">

    <div>{% if request_sent %}
      <p>Here's the list of Programmers you have sent a request to do pair programming with you!</p>

      {% for pairing_request_user in pending_user %}
      <div class="row">
        <div class="column">
          <div class="card"> {{pairing_request_user.first_name}} {{pairing_request_user.last_name}} <br>{{pairing_request_user.email}} <button onclick= "alert('Thank you for approving the request!')" id="confirm_request_btn" type="button" class="btn btn-primary"> Confirm Request </button> <button type="button" class="btn btn-light" onclick= "alert('Denying Request Completed!')"id="deny_request_btn"> Deny Request </button>
          </div>
          <br>
        </div>
      </div>
      {% endfor %}

      <p>To pair with more Programmers, checkout the list of Programmers <a href="\pairedlist"> HERE! </a></p>
    {% else %}
    <br>
    {% endif %}
    </div>

    <div>{% if paired %}

      <p>Here's the list of Programmers you have sent a request to be paired with.</p>

      {% for paired_user in received_request_users %}
      <div class="row">
        <div class="column">
          <div class="card"> {{paired_user.first_name}} {{paired_user.last_name}} <br>{{paired_user.email}} <button type="button" onclick= "alert('Thank you for approving the request!')" id="confirm_request_btn" class="btn btn-primary"> Confirm Request </button> <button type="button" class="btn btn-danger" onclick= "alert('Denying Request Completed!')"id="deny_request_btn"> Deny Request </button>
          </div>
          <br>
        </div>
      </div>
      {% endfor %}

      <p>To pair with more Programmers, checkout the list of Programmers <a href="\pairedlist"> HERE! </a></p>

    {% else %}
    <br>
    {% endif %}
    </div>

    {% for sent_request_user in sent_request_users %}
    <div class="row">
      <div class="column">
        <div class="card"> {{sent_request_user.first_name}} {{sent_request_user.last_name}} <br>{{sent_request_user.email}} <button onclick= "alert('This request is pending approval of the programmer!')" id="request_sent_btn" type="button" class="btn btn-secondary"> Request Sent </button> <br> <button type="button" class="btn btn-light" id="request_sent_btn">Cancel Request</button>
        </div>
        <br>
      </div>
    </div>
    {% endfor %}

  </div>
</div>
</div>

{% endblock content %}