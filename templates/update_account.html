{% extends 'base.html' %}

{% block content %}

<div class="container">
  <div class="row">
    <div class="col">
    </div>
    <div class="row">
      <div class="col">
        <div class ="user-profile">
          <h5 style="color:rgb(197, 196, 194);">You can update your account here, {{ logged_in_user.first_name }}!</h5>
        <div class ="content-section">
          <div id="profile-image">
          <div class="media">
            <img class="rounded-circle account-img" src="{{ profile_picture }}" width="200" height="200">
          </div>
        </div>
        </div>
      </div>

      <div style="color:rgb(197, 196, 194);" class="col">
        <div class="media-body">
          <h3 style="color:rgb(197, 196, 194);"class="account-heading">{{ logged_in_user.first_name }} {{ logged_in_user.last_name }}</h3>
          <h5 style="color:rgb(197, 196, 194);"class="text-secondary">{{ logged_in_user.email }}</h5>
          {% for lang in logged_in_user.programming_languages %}
          <h5 style="color:rgb(197, 196, 194);" class ="text-secondary">{{ lang.programming_language_name }} </h5>
          {% endfor %}
          <h3 style="color:rgb(197, 196, 194);" class="text-secondary">{{logged_in_user.primary_language_name}}</h3>
        </div>
      </div>
    </div>


    </div>

      <form id="updateaccount" style="color:rgb(197, 196, 194);"  method="POST" action="/register">
          {{ form.hidden_tag() }}
          <fieldset class="form-group">
            <legend class="border-bottom mb-4"> Update Account </legend>

            <div class="form-group">
              {{ form.email.label(class="form-control-label") }}
              {% if form.email.errors %}
                {{ form.email(class="form-control form-control-lg is-invalid") }}
                <div class="invalid-feedback">
                  {% for error in form.email.errors %}
                    <span> {{ error }}</span>
                  {% endfor %}
                </div>
              {% else %}
                {{ form.email(class="form-control form-control-lg") }}
              {% endif %}


            <div class="form-group">
              {{ form.prompt_difficulty_level.label(class="form-control-label") }}
              {{ form.prompt_difficulty_level }}
            </div>

            <div class="form-group">
              {{ form.primary_language.label(class="form-control-label") }}
              {{ form.primary_language(class="form-control form-control-lg") }}
            </div>

            <div class="form-group"></div>
              {{ form.programming_language_label.label(class="form-control-label") }}
            </div>
              {{ form.programming_language_label(size=5, class="form-control form-control-lg", multiple=True) }}


              <div class="form-group">
              {{ form.timezone_name.label(class="form-control-label") }}
            </div>
              {{ form.timezone_name(size=5, class="form-control form-control-lg") }}

                <div class="form-group">
                  {{ form.timeslot_label.label(class="form-control-label") }}
                </div>
                  {{ form.timeslot_label(size=5, class="form-control form-control-lg", multiple=True) }}

        </fieldset>
        <div class="form-group">
          {{ form.submit(class= "btn-outline-info") }}
        </div>
        <a class="ml-2" href= "{{ url_for('login') }} "></a>
      </form>


</div>
</div>
</div>

{% endblock content %}